<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><!-- saved from url=(0014)about:internet --><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><link rel="stylesheet" href="../../../../style.css" type="text/css" media="screen"><link rel="stylesheet" href="../../../../print.css" type="text/css" media="print"><link rel="stylesheet" href="../../../../override.css" type="text/css"><meta name="keywords" content="InAppPurchase,com.freshplanet.ane.AirInAppPurchase.InAppPurchase,APPLE_APP_STORE,GOOGLE_PLAY,TYPE_APP_STORE,TYPE_GOOGLE_PLAY,data,debug,description,isInAppPurchaseSupported,length,price,priceCurrencyCode,priceCurrencySymbol,productId,productId,products,signature,signedData,title,transactionDate,transactionId,type,value,asArray,at,finishPurchase,getInstance,getProduct,initialize,loadProducts,requestPurchase,stop,toJSON,toJSON,userCanMakeAPurchase"><title>com.freshplanet.ane.AirInAppPurchase.InAppPurchase</title></head><body><script language="javascript" type="text/javascript" src="../../../../asdoc.js"></script><script language="javascript" type="text/javascript" src="../../../../help.js"></script><script language="javascript" type="text/javascript" src="../../../../cookies.js"></script><script language="javascript" type="text/javascript"><!--
				asdocTitle = 'InAppPurchase - API Documentation';
				var baseRef = '../../../../';
				window.onload = configPage;
			--></script>
<script type="text/javascript">
			scrollToNameAnchor();
		</script><table class="titleTable" cellpadding="0" cellspacing="0" id="titleTable" style="display:none"><tr><td class="titleTableTitle" align="left">API Documentation</td><td class="titleTableTopNav" align="right"><a href="../../../../package-summary.html" onclick="loadClassListFrame('../../../../all-classes.html')">All Packages</a>&nbsp;|&nbsp;<a href="../../../../class-summary.html" onclick="loadClassListFrame('../../../../all-classes.html')">All Classes</a>&nbsp;|&nbsp;<a href="../../../../all-index-A.html" onclick="loadClassListFrame('../../../../index-list.html')">Index</a>&nbsp;|&nbsp;<a id="framesLink1" href="../../../../index.html?com/freshplanet/ane/AirInAppPurchase/InAppPurchase.html&amp;com/freshplanet/ane/AirInAppPurchase/class-list.html">Frames</a><a id="noFramesLink1" style="display:none" href="" onclick="parent.location=document.location"> No Frames </a></td><td class="titleTableLogo" align="right" rowspan="3"><img src="../../../../images/logo.jpg" class="logoImage" alt=" Adobe Logo " title=" Adobe Logo "></td></tr><tr class="titleTableRow2"><td class="titleTableSubTitle" id="subTitle" align="left">InAppPurchase</td><td class="titleTableSubNav" id="subNav" align="right"><a href="#propertySummary">Properties</a>&nbsp;| <a href="#methodSummary">Methods</a></td></tr><tr class="titleTableRow3"><td colspan="3">&nbsp;</td></tr></table><script language="javascript" type="text/javascript" xml:space="preserve">
				<!--
				
					if (!isEclipse() || window.name != ECLIPSE_FRAME_NAME) {titleBar_setSubTitle("InAppPurchase"); titleBar_setSubNav(false,true,false,false,false,false,false,false,true,false,false	,false,false,false,false,false);}	
				-->
			</script><div xmlns:fn="http://www.w3.org/2005/xpath-functions" class="MainContent"><table class="classHeaderTable" cellpadding="0" cellspacing="0"><tr><td class="classHeaderTableLabel">Package</td><td><a href="package-detail.html" onclick="javascript:loadClassListFrame('class-list.html')">com.freshplanet.ane.AirInAppPurchase</a></td></tr><tr><td class="classHeaderTableLabel">Class</td><td class="classSignature">public  class  InAppPurchase</td></tr><tr><td class="classHeaderTableLabel">Inheritance</td><td class="inheritanceList">InAppPurchase  <img src="../../../../images/inherit-arrow.gif" title="Inheritance" alt="Inheritance" class="inheritArrow"> flash.events.EventDispatcher</td></tr></table><p></p><p></p><p></p> AirInAppPurchase's main class <p></p><br/><hr></div><a name="propertySummary"></a><div class="summarySection"><div class="summaryTableTitle">Public Properties</div><table cellspacing="0" cellpadding="3" class="summaryTable " id="summaryTableProperty"><tr><th>&nbsp;</th><th colspan="2">Property</th><th class="summaryTableOwnerCol">Defined By</th></tr><tr class=""><td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol"><a href="#debug" class="signatureLink">debug</a> : Boolean = true<div class="summaryTableDescription"> Whether to display debug on the console or not </div></td><td class="summaryTableOwnerCol">InAppPurchase</td></tr><tr class=""><td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol"><a href="#isInAppPurchaseSupported" class="signatureLink">isInAppPurchaseSupported</a> : Boolean<div class="summaryTableDescription">[read-only]  Returns true if the platform supports In-App Purchases.</div></td><td class="summaryTableOwnerCol">InAppPurchase</td></tr><tr class=""><td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol"><a href="#products" class="signatureLink">products</a> : <a href="../../../../com/freshplanet/ane/AirInAppPurchase/InAppPurchaseProducts.html">InAppPurchaseProducts</a><div class="summaryTableDescription">[read-only]  The loaded InAppPurchaseProducts.</div></td><td class="summaryTableOwnerCol">InAppPurchase</td></tr></table></div><a name="methodSummary"></a><div class="summarySection"><div class="summaryTableTitle">Public Methods </div><table cellspacing="0" cellpadding="3" class="summaryTable " id="summaryTableMethod"><tr><th>&nbsp;</th><th colspan="2">Method</th><th class="summaryTableOwnerCol">Defined By</th></tr><tr class=""><td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol"><div class="summarySignature"><a href="#InAppPurchase()" class="signatureLink">InAppPurchase</a>()</div><div class="summaryTableDescription"> Constructor.</div></td><td class="summaryTableOwnerCol">InAppPurchase</td></tr><tr class=""><td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol"><div class="summarySignature"><a href="#finishPurchase()" class="signatureLink">finishPurchase</a>(receipt:<a href="../../../../com/freshplanet/ane/AirInAppPurchase/InAppPurchaseReceipt.html">InAppPurchaseReceipt</a>):void</div><div class="summaryTableDescription"> Finalize a purchase.</div></td><td class="summaryTableOwnerCol">InAppPurchase</td></tr><tr class=""><td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol"><div class="summarySignature"><a href="#getInstance()" class="signatureLink">getInstance</a>():<a href="../../../../com/freshplanet/ane/AirInAppPurchase/InAppPurchase.html">InAppPurchase</a></div><div class="summaryTableDescription">[static]  Return the singleton InAppPurchase instance.</div></td><td class="summaryTableOwnerCol">InAppPurchase</td></tr><tr class=""><td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol"><div class="summarySignature"><a href="#initialize()" class="signatureLink">initialize</a>(googlePlayKey:String, debug:Boolean = false):void</div><div class="summaryTableDescription"> Initialize the library.</div></td><td class="summaryTableOwnerCol">InAppPurchase</td></tr><tr class=""><td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol"><div class="summarySignature"><a href="#loadProducts()" class="signatureLink">loadProducts</a>(token:<a href="../../../../com/freshplanet/ane/AirInAppPurchase/InAppPurchaseToken.html">InAppPurchaseToken</a>, productsId:Array, subscriptionIds:Array = null):void</div><div class="summaryTableDescription"> Load product information from the platform.</div></td><td class="summaryTableOwnerCol">InAppPurchase</td></tr><tr class=""><td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol"><div class="summarySignature"><a href="#requestPurchase()" class="signatureLink">requestPurchase</a>(product:<a href="../../../../com/freshplanet/ane/AirInAppPurchase/InAppPurchaseProduct.html">InAppPurchaseProduct</a>):void</div><div class="summaryTableDescription"> Initiate a purchase request.</div></td><td class="summaryTableOwnerCol">InAppPurchase</td></tr><tr class=""><td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol"><div class="summarySignature"><a href="#stop()" class="signatureLink">stop</a>(token:<a href="../../../../com/freshplanet/ane/AirInAppPurchase/InAppPurchaseToken.html">InAppPurchaseToken</a>):void</div><div class="summaryTableDescription"> Stop the ANE </div></td><td class="summaryTableOwnerCol">InAppPurchase</td></tr><tr class=""><td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol"><div class="summarySignature"><a href="#userCanMakeAPurchase()" class="signatureLink">userCanMakeAPurchase</a>(token:<a href="../../../../com/freshplanet/ane/AirInAppPurchase/InAppPurchaseToken.html">InAppPurchaseToken</a>):void</div><div class="summaryTableDescription"> Returns true if the user is allowed and able to make purchases </div></td><td class="summaryTableOwnerCol">InAppPurchase</td></tr></table></div><script language="javascript" type="text/javascript"><!--
										showHideInherited();
										--></script><div class="MainContent"><div class="detailSectionHeader">Property Detail</div><a name="propertyDetail"></a><a name="debug"></a><table class="detailHeader" cellpadding="0" cellspacing="0"><tr><td class="detailHeaderName">debug</td><td class="detailHeaderType">property</td></tr></table><div class="detailBody"><code>public var debug:Boolean = true</code><p></p><p></p><p> Whether to display debug on the console or not </p></div><a name="propertyDetail"></a><a name="isInAppPurchaseSupported"></a><table class="detailHeader" cellpadding="0" cellspacing="0"><tr><td class="detailHeaderName">isInAppPurchaseSupported</td><td class="detailHeaderType">property</td><td class="detailHeaderRule">&nbsp;</td></tr></table><div class="detailBody"><code>isInAppPurchaseSupported:Boolean</code>&nbsp;&nbsp;[read-only] <p></p><p></p><p> Returns true if the platform supports In-App Purchases.
                  Example: <pre><code>
         if (iap.isInAppPurchaseSupported)
           // Yay! We can use In-App Purchases!
           // Let's make tons of money
         </code></pre>
         </p><br/><span class="label"> Implementation </span><br/><code>&nbsp;&nbsp;&nbsp;&nbsp;public function get isInAppPurchaseSupported():Boolean</code><br/></div><a name="propertyDetail"></a><a name="products"></a><table class="detailHeader" cellpadding="0" cellspacing="0"><tr><td class="detailHeaderName">products</td><td class="detailHeaderType">property</td><td class="detailHeaderRule">&nbsp;</td></tr></table><div class="detailBody"><code>products:<a href="../../../../com/freshplanet/ane/AirInAppPurchase/InAppPurchaseProducts.html">InAppPurchaseProducts</a></code>&nbsp;&nbsp;[read-only] <p></p><p></p><p> The loaded InAppPurchaseProducts.
                The ANE maintains a map <code>productIdentifier</code> ⇒ <code>InAppPurchaseProduct</code>.
                This map is filled when <code>PRODUCTS_LOADED</code> is triggered (it's empty before that).
                After the <code>PRODUCTS_LOADED</code> event, you can access the details of the products using <code>iap.products.getProduct('my-id')</code>.
                </p><br/><span class="label"> Implementation </span><br/><code>&nbsp;&nbsp;&nbsp;&nbsp;public function get products():<a href="../../../../com/freshplanet/ane/AirInAppPurchase/InAppPurchaseProducts.html">InAppPurchaseProducts</a></code><br/><p><span class="label">See also</span></p><div class="seeAlso"><a href="InAppPurchaseProducts.html" target="">com.freshplanet.ane.AirInAppPurchase.InAppPurchaseProducts</a><br/><a href="../../../../com/freshplanet/ane/AirInAppPurchase/events/ProductsLoadedEvent.html" target="">com.freshplanet.ane.AirInAppPurchase.events.ProductsLoadedEvent</a></div></div><a name="constructorDetail"></a><div class="detailSectionHeader">Constructor Detail</div><a name="InAppPurchase()"></a><table class="detailHeader" cellpadding="0" cellspacing="0"><tr><td class="detailHeaderName">InAppPurchase</td><td class="detailHeaderParens">()</td><td class="detailHeaderType">Constructor</td></tr></table><div class="detailBody"><code>public function InAppPurchase()</code><p></p><p> Constructor. Use InAppPurchase.getInstance() instead! </p></div><a name="methodDetail"></a><div class="detailSectionHeader">Method Detail</div><a name="finishPurchase()"></a><a name="finishPurchase(com.freshplanet.ane.AirInAppPurchase.InAppPurchaseReceipt)"></a><table class="detailHeader" cellpadding="0" cellspacing="0"><tr><td class="detailHeaderName">finishPurchase</td><td class="detailHeaderParens">()</td><td class="detailHeaderType">method</td></tr></table><div class="detailBody"><code> public function finishPurchase(receipt:<a href="../../../../com/freshplanet/ane/AirInAppPurchase/InAppPurchaseReceipt.html">InAppPurchaseReceipt</a>):void</code><p></p><p></p><p> Finalize a purchase.
                  Once a purchased has been approved and the content delivered to the user,
         we can finish the purchase.
                  </p><p><span class="label"> Parameters </span><table cellpadding="0" cellspacing="0" border="0"><tr><td width="20px"></td><td><code><span class="label">receipt</span>:<a href="../../../../com/freshplanet/ane/AirInAppPurchase/InAppPurchaseReceipt.html">InAppPurchaseReceipt</a></code> &mdash; The transaction receipt associated with the purchase.
         </td></tr></table></p></div><a name="getInstance()"></a><table class="detailHeader" cellpadding="0" cellspacing="0"><tr><td class="detailHeaderName">getInstance</td><td class="detailHeaderParens">()</td><td class="detailHeaderType">method</td><td class="detailHeaderRule">&nbsp;</td></tr></table><div class="detailBody"><code> public static function getInstance():<a href="../../../../com/freshplanet/ane/AirInAppPurchase/InAppPurchase.html">InAppPurchase</a></code><p></p><p></p><p> Return the singleton InAppPurchase instance.
                  Example: <pre><code>
         var iap:InAppPurchase = InAppPurchase.getInstance();
         </code></pre>
         </p><p></p><span class="label">Returns</span><table cellpadding="0" cellspacing="0" border="0"><tr><td width="20"></td><td><code><a href="../../../../com/freshplanet/ane/AirInAppPurchase/InAppPurchase.html">InAppPurchase</a></code></td></tr></table></div><a name="initialize()"></a><a name="initialize(String,Boolean)"></a><table class="detailHeader" cellpadding="0" cellspacing="0"><tr><td class="detailHeaderName">initialize</td><td class="detailHeaderParens">()</td><td class="detailHeaderType">method</td><td class="detailHeaderRule">&nbsp;</td></tr></table><div class="detailBody"><code> public function initialize(googlePlayKey:String, debug:Boolean = false):void</code><p></p><p></p><p> Initialize the library.
                  </p><p><span class="label"> Parameters </span><table cellpadding="0" cellspacing="0" border="0"><tr><td width="20px"></td><td><code><span class="label">googlePlayKey</span>:String</code> &mdash; The GOOGLE_PLAY_LICENSE_KEY. It can be found in the Google Play developer console under the Services and APIs section.
         </td></tr><tr><td class="paramSpacer">&nbsp;</td></tr><tr><td width="20px"></td><td><code><span class="label">debug</span>:Boolean</code> (default = <code>false</code>)<code></code> &mdash; Activate logging of debug information
                  <p>NOTE: The initialization process is asynchronous, so make sure you wait enough time for the initialization to complete. (yes, it's ugly)</p>
                  <p>Example:</p><pre><code>
         iap.initialize("S0M3B4S364D4t4Fr0mG00gL3", true);
         </code></pre>
         </td></tr></table></p></div><a name="loadProducts()"></a><a name="loadProducts(com.freshplanet.ane.AirInAppPurchase.InAppPurchaseToken,Array,Array)"></a><table class="detailHeader" cellpadding="0" cellspacing="0"><tr><td class="detailHeaderName">loadProducts</td><td class="detailHeaderParens">()</td><td class="detailHeaderType">method</td><td class="detailHeaderRule">&nbsp;</td></tr></table><div class="detailBody"><code> public function loadProducts(token:<a href="../../../../com/freshplanet/ane/AirInAppPurchase/InAppPurchaseToken.html">InAppPurchaseToken</a>, productsId:Array, subscriptionIds:Array = null):void</code><p></p><p></p><p> Load product information from the platform.
                  </p><p><span class="label"> Parameters </span><table cellpadding="0" cellspacing="0" border="0"><tr><td width="20px"></td><td><code><span class="label">token</span>:<a href="../../../../com/freshplanet/ane/AirInAppPurchase/InAppPurchaseToken.html">InAppPurchaseToken</a></code> &mdash; The list of identifiers of the products
         to be loaded, as defined in your platform's dashboard \
         (iTunesConnect or Google Play publisher console).
                  The ANE differenciates between two types of purchases:
         consumable and subscriptions.
         <pre><code>
         iap.loadProducts(["cc.fovea.babygoo1", "cc.fovea.babygoo2"], ["cc.fovea.subscribe"]);
         </code></pre>
                  You should expect <code>PRODUCTS_LOADED</code> and/or <code>PRODUCTS_LOAD_ERROR</code> events to be triggered,
         so you'd better setup your listener upfront!
                  Note that it's possible that both events are triggered,
         in the case where some products are valids and some others
         are not.
                  </td></tr><tr><td class="paramSpacer">&nbsp;</td></tr><tr><td width="20px"></td><td><code><span class="label">productsId</span>:Array</code></td></tr><tr><td class="paramSpacer">&nbsp;</td></tr><tr><td width="20px"></td><td><code><span class="label">subscriptionIds</span>:Array</code> (default = <code>null</code>)<code></code></td></tr></table></p><p><span class="label">See also</span></p><div class="seeAlso"><a href="../../../../com/freshplanet/ane/AirInAppPurchase/events/ProductsLoadedEvent.html" target="">com.freshplanet.ane.AirInAppPurchase.events.ProductsLoadedEvent</a><br/><a href="../../../../com/freshplanet/ane/AirInAppPurchase/events/ProductsLoadErrorEvent.html" target="">com.freshplanet.ane.AirInAppPurchase.events.ProductsLoadErrorEvent</a></div></div><a name="requestPurchase()"></a><a name="requestPurchase(com.freshplanet.ane.AirInAppPurchase.InAppPurchaseProduct)"></a><table class="detailHeader" cellpadding="0" cellspacing="0"><tr><td class="detailHeaderName">requestPurchase</td><td class="detailHeaderParens">()</td><td class="detailHeaderType">method</td><td class="detailHeaderRule">&nbsp;</td></tr></table><div class="detailBody"><code> public function requestPurchase(product:<a href="../../../../com/freshplanet/ane/AirInAppPurchase/InAppPurchaseProduct.html">InAppPurchaseProduct</a>):void</code><p></p><p></p><p> Initiate a purchase request.
                  </p><p><span class="label"> Parameters </span><table cellpadding="0" cellspacing="0" border="0"><tr><td width="20px"></td><td><code><span class="label">product</span>:<a href="../../../../com/freshplanet/ane/AirInAppPurchase/InAppPurchaseProduct.html">InAppPurchaseProduct</a></code> &mdash; The product to purchase.
         Example: <pre><code>
         iap.makePurchase(iap.products.getProduct('cc.fovea.babygoo1'));
         </code></pre>
                  You should expect <code>PURCHASE_APPROVED</code> or <code>PURCHASE_ERROR</code> to be triggered.
                  </td></tr></table></p><p><span class="label">See also</span></p><div class="seeAlso"><a href="../../../../com/freshplanet/ane/AirInAppPurchase/events/PurchaseApprovedEvent.html" target="">com.freshplanet.ane.AirInAppPurchase.events.PurchaseApprovedEvent</a><br/><a href="../../../../com/freshplanet/ane/AirInAppPurchase/events/PurchaseErrorEvent.html" target="">com.freshplanet.ane.AirInAppPurchase.events.PurchaseErrorEvent</a></div></div><a name="stop()"></a><a name="stop(com.freshplanet.ane.AirInAppPurchase.InAppPurchaseToken)"></a><table class="detailHeader" cellpadding="0" cellspacing="0"><tr><td class="detailHeaderName">stop</td><td class="detailHeaderParens">()</td><td class="detailHeaderType">method</td><td class="detailHeaderRule">&nbsp;</td></tr></table><div class="detailBody"><code> public function stop(token:<a href="../../../../com/freshplanet/ane/AirInAppPurchase/InAppPurchaseToken.html">InAppPurchaseToken</a>):void</code><p></p><p></p><p> Stop the ANE </p><p><span class="label"> Parameters </span><table cellpadding="0" cellspacing="0" border="0"><tr><td width="20px"></td><td><code><span class="label">token</span>:<a href="../../../../com/freshplanet/ane/AirInAppPurchase/InAppPurchaseToken.html">InAppPurchaseToken</a></code></td></tr></table></p></div><a name="userCanMakeAPurchase()"></a><a name="userCanMakeAPurchase(com.freshplanet.ane.AirInAppPurchase.InAppPurchaseToken)"></a><table class="detailHeader" cellpadding="0" cellspacing="0"><tr><td class="detailHeaderName">userCanMakeAPurchase</td><td class="detailHeaderParens">()</td><td class="detailHeaderType">method</td><td class="detailHeaderRule">&nbsp;</td></tr></table><div class="detailBody"><code> public function userCanMakeAPurchase(token:<a href="../../../../com/freshplanet/ane/AirInAppPurchase/InAppPurchaseToken.html">InAppPurchaseToken</a>):void</code><p></p><p></p><p> Returns true if the user is allowed and able to make purchases </p><p><span class="label"> Parameters </span><table cellpadding="0" cellspacing="0" border="0"><tr><td width="20px"></td><td><code><span class="label">token</span>:<a href="../../../../com/freshplanet/ane/AirInAppPurchase/InAppPurchaseToken.html">InAppPurchaseToken</a></code></td></tr></table></p></div><br/><br/><hr><br/><p></p><center class="copyright"><footer></footer><br/>Sat Apr 2 2016, 06:51 PM +03:00  </center></div></body></html><!--<br/>Sat Apr 2 2016, 06:51 PM +03:00  -->